/* =========================================================================
 * STILI GENERALI E RESPONSIVITÀ DI BASE
 * ========================================================================= */

body {
    font-family: 'Montserrat', sans-serif;
    font-size: 22px;
    margin: 0;
    color: #ffffff;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
}

.theme-light .content,
.theme-christmas .content,
.theme-dark .content {
    display: flex;
    flex-grow: 1;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 10vh;
    padding-bottom: 80px;
}

.theme-light .content,
.theme-dark .content,
.theme-christmas .content {
    background-position: top center;
    background-size: cover;
    background-attachment: scroll;
    background-repeat: no-repeat;
    background-color: #1a1a1a;
    flex-grow: 1;
    display: flex;
}
/* SFONDO */

/* HEADER TITOLI */
.header-titoli {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-bottom: 50px;
    z-index: 10;
    padding: 0 10px;
}

.azienda {
    font-size: 2.2em;
    font-weight: 700;
    color: white;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
    padding: 5px 10px;
}

.incendio {
    font-size: 2.2em;
    font-weight: 300;
    color: #d3172d;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
    padding: 5px 10px;
}

#resoconto .content {
    background-position: top center;
    background-size: cover;
    background-attachment: scroll;
    background-repeat: no-repeat;
}

/* =========================================================================
 * TABELLA - STILI BASE E RESPONSIVITÀ PER MOBILE
 * ========================================================================= */

.monthly-report-table {
    /* Rimosso min-width: 1000px per consentire lo stacking */
    border-collapse: collapse;
    border-spacing: 0;
    border: none;
    width: 100%;
    max-width: 100%;
}

.table-responsive-wrapper {
    width: 100%;
}

.monthly-report-table th,
.monthly-report-table td {
    padding: 15px 5px;
    text-align: center;
    font-family: Arial, sans-serif;
    width: auto;
    border: none;
}

.monthly-report-table thead {
    background: linear-gradient(180deg, #2b2b2b 0%, #1c1c1c 100%);
    color: #d3172d;
}

.monthly-report-table th {
    font-weight: 700;
    font-size: 0.85em;
    letter-spacing: 1px;
    text-transform: uppercase;
    border-right: 1px solid rgba(255, 255, 255, 0.05);
}

.monthly-report-table th:last-child {
    border-right: none;
}

.monthly-report-table thead th:first-child {
    border-top-left-radius: 10px;
}
.monthly-report-table thead th:last-child {
    border-top-right-radius: 10px;
}


.monthly-report-table tbody tr:nth-child(even) {
    background-color: #222222;
}
.monthly-report-table tbody tr:nth-child(odd) {
    background-color: #2c2c2c;
}

.monthly-report-table .data-value {
    color: #ffffff;
    font-size: 1.1em;
    font-weight: 800;
    border-top: 1px solid rgba(255, 255, 255, 0.08);
    border-right: 1px solid rgba(255, 255, 255, 0.05);
    transition: all 0.3s ease;
    padding: 25px;
}

.monthly-report-table .data-value:last-child {
    border-right: none;
}

.monthly-report-table .data-value:hover {
    background-color: #383838;
    box-shadow: inset 0 0 15px rgba(255, 0, 0, 0.2);
    color: #d3172d;
}

.monthly-report-table tbody tr:last-child .data-value:first-child {
    border-bottom-left-radius: 10px;
}
.monthly-report-table tbody tr:last-child .data-value:last-child {
    border-bottom-right-radius: 10px;
}

/* =========================================================================
 * MEDIA QUERY: Visualizzazione Orizzontale (Desktop/Tablet landscape)
 * Si attiva per schermi più larghi di 768px.
 * ========================================================================= */

@media (min-width: 769px) {
    .monthly-report-table {
        max-width: 1300px;
        width: 90%;
        border-collapse: separate;
        border-spacing: 0;
        border: none;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.7);
        background-color: #222222;
        min-width: 0;
    }

    .monthly-report-table thead {
        display: table-header-group;
    }

    .monthly-report-table tr {
        display: table-row;
    }

    .monthly-report-table th,
    .monthly-report-table td {
        display: table-cell;
        padding: 18px 5px;
        width: calc(100% / 12);
    }

    .monthly-report-table .data-value {
        padding: 35px;
        font-size: 1.3em;
    }

    .azienda, .incendio {
        font-size: 2.2em;
    }
}


/* =========================================================================
 * MEDIA QUERY: Visualizzazione Verticale (Smartphone/Schermi stretti)
 * Si attiva per schermi fino a 768px.
 * ========================================================================= */

@media (max-width: 768px) {
    body {
        font-size: 18px;
    }

    .header-titoli {
        flex-direction: column;
        gap: 10px;
        margin-bottom: 30px;
    }

    .azienda, .incendio {
        font-size: 1.5em;
        text-align: center;
        padding: 0;
    }

    /* * Modifica per Centrare il Blocco Tabella e ridurne la larghezza */
    .monthly-report-table {
        margin-left: auto;
        margin-right: auto;
        max-width: 350px; /* Larghezza controllata per il centramento */
        width: 100%;
    }

    /* 1. NASCONDI L'HEADER ORIGINALE */
    .monthly-report-table thead {
        display: none;
    }

    /* 2. TRASFORMA LA STRUTTURA IN BLOCCHI VERTICALI */
    .monthly-report-table,
    .monthly-report-table tbody,
    .monthly-report-table tr {
        display: block;
        width: 100%;
        border-radius: 0;
    }

    /* Stile per ogni blocco/riga */
    .monthly-report-table tr {
        margin-bottom: 15px;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    }

    /* 3. TRASFORMA LE CELLE IN RIGHE COMPLETE (Mese + Valore) */
    .monthly-report-table td {
        display: block;
        width: 100%;
        /* Centra il contenuto (Etichetta e Valore raggruppati) */
        text-align: center; 
        /* Riduco il padding orizzontale */
        padding: 12px 5px; 
        box-sizing: border-box;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        border-right: none !important;
        border-top: none !important;
    }
    
    .monthly-report-table .data-value {
        /* Riduco il padding per il data-value in modalità mobile */
        padding: 10px 0; 
        text-align: center !important; 
        display: inline-block; /* Permette l'allineamento orizzontale con l'etichetta */
        vertical-align: middle;
    }

    /* Rimuovi bordo finale e hover su mobile */
    .monthly-report-table td:last-child {
        border-bottom: none;
    }
    .monthly-report-table .data-value:hover {
        background-color: inherit;
        box-shadow: none;
        color: inherit;
    }

    /* Rimuovi i border-radius dal fondo della tabella in modalità stacked */
    .monthly-report-table tbody tr:last-child .data-value:first-child,
    .monthly-report-table tbody tr:last-child .data-value:last-child {
        border-radius: 0;
    }

    /* 4. INSERISCI L'ETICHETTA DEL MESE (Utilizzando nth-child) */
    .monthly-report-table td::before {
        display: inline-block;
        
        font-weight: 700;
        font-size: 0.85em;
        letter-spacing: 1px;
        text-transform: uppercase;
        opacity: 1;

        /* Aggiunge i due punti e lo spazio per separare l'etichetta dal valore */
        margin-right: 10px; 
        vertical-align: middle; 
    }

    /* Definizione dei mesi tramite Indice (nth-child) */
    .monthly-report-table tr td:nth-child(1)::before { content: "Gennaio:"; }
    .monthly-report-table tr td:nth-child(2)::before { content: "Febbraio:"; }
    .monthly-report-table tr td:nth-child(3)::before { content: "Marzo:"; }
    .monthly-report-table tr td:nth-child(4)::before { content: "Aprile:"; }
    .monthly-report-table tr td:nth-child(5)::before { content: "Maggio:"; }
    .monthly-report-table tr td:nth-child(6)::before { content: "Giugno:"; }
    .monthly-report-table tr td:nth-child(7)::before { content: "Luglio:"; }
    .monthly-report-table tr td:nth-child(8)::before { content: "Agosto:"; }
    .monthly-report-table tr td:nth-child(9)::before { content: "Settembre:"; }
    .monthly-report-table tr td:nth-child(10)::before { content: "Ottobre:"; }
    .monthly-report-table tr td:nth-child(11)::before { content: "Novembre:"; }
    .monthly-report-table tr td:nth-child(12)::before { content: "Dicembre:"; }
    /* Fine Definizione Mesi */
}


/* =========================================================================
 * TEMI
 * ========================================================================= */

.theme-dark .monthly-report-table {
    background-color: #222222;
}
.theme-dark .azienda {
    color: white;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
}
.theme-dark .incendio {
    color: #d3172d;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
}
.theme-dark .monthly-report-table thead {
    background: linear-gradient(180deg, #1c1c1c 0%, #2b2b2b 100%);
    color: #d3172d;
}
.theme-dark .monthly-report-table th {
    border-right: 1px solid rgba(255, 255, 255, 0.05);
}

/* Stili specifici per stacking Dark Mode */
@media (max-width: 768px) {
    .theme-dark .monthly-report-table td::before {
        color: #d3172d;
    }
    .theme-dark .monthly-report-table tbody tr:nth-child(even) {
        background-color: #222222;
    }
    .theme-dark .monthly-report-table tbody tr:nth-child(odd) {
        background-color: #2c2c2c;
    }
    .theme-dark .monthly-report-table .data-value {
        color: #ffffff;
    }
}

.theme-dark .monthly-report-table .data-value {
    color: #ffffff;
    border-top: 1px solid rgba(255, 255, 255, 0.08);
    border-right: 1px solid rgba(255, 255, 255, 0.05);
    transition: all 0.3s ease;
}
.theme-dark .monthly-report-table .data-value:hover {
    background-color: #383838;
    box-shadow: inset 0 0 15px rgba(255, 0, 0, 0.2);
    color: #d3172d;
}


/* LIGHT / CHRISTMAS THEME */
.theme-light .monthly-report-table,
.theme-christmas .monthly-report-table {
    background-color: #ffffff;
}
.theme-light .azienda,
.theme-christmas .azienda {
    color: #333333;
    text-shadow: none;
}
.theme-christmas .azienda {
    color: #963e49;
}
.theme-light .incendio,
.theme-christmas .incendio {
    color: #d3172d;
    text-shadow: none;
}
.theme-light .monthly-report-table thead,
.theme-christmas .monthly-report-table thead {
    background: linear-gradient(180deg, #a7a7a7 0%, #ececec 100%);
    color: #d3172d;
}
.theme-light .monthly-report-table th,
.theme-christmas .monthly-report-table th {
    border-right: 1px solid rgba(0, 0, 0, 0.08);
}

@media (max-width: 768px) {
    .theme-light .monthly-report-table td::before,
    .theme-christmas .monthly-report-table td::before {
        color: #d3172d;
    }
    .theme-light .monthly-report-table tbody tr:nth-child(even),
    .theme-christmas .monthly-report-table tbody tr:nth-child(even) {
        background-color: #f8f8f8;
    }
    .theme-light .monthly-report-table tbody tr:nth-child(odd),
    .theme-christmas .monthly-report-table tbody tr:nth-child(odd) {
        background-color: #ffffff;
    }
    .theme-light .monthly-report-table .data-value,
    .theme-christmas .monthly-report-table .data-value {
        color: #333333;
    }
}


.theme-light .monthly-report-table .data-value,
.theme-christmas .monthly-report-table .data-value {
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-right: 1px solid rgba(0, 0, 0, 0.05);
    transition: all 0.3s ease;
}
.theme-light .monthly-report-table .data-value:hover,
.theme-christmas .monthly-report-table .data-value:hover {
    background-color: #eeeeee;
    box-shadow: inset 0 0 15px rgba(255, 0, 30, 0.1);
    color: #d3172d;
}